{"version":3,"sources":["webpack:///./src/views/Dashboard/sensor/id/id.view.vue?81da","webpack:///./src/views/Dashboard/sensor/id/id.view.vue?5602","webpack:///src/views/Dashboard/sensor/id/id.view.vue","webpack:///./src/views/Dashboard/sensor/id/id.view.vue?0979","webpack:///./src/views/Dashboard/sensor/id/id.view.vue","webpack:///./src/assets/svg/ic_arrow-left_blue.svg","webpack:///./src/views/Dashboard/sensor/sensor.services.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","on","$event","$router","go","loading","sensor","attrs","model","value","callback","$$v","$set","expression","_e","$route","query","latest","_s","Date","time","toLocaleTimeString","toLocaleDateString","options","series","periods","selectedPeriod","loadingSum","sumOption","sumSeries","staticRenderFns","name","components","arrSvg","data","loadingLatest","chart","id","plotOptions","bar","borderRadius","dataLabels","position","enabled","formatter","val","offsetY","style","fontSize","colors","xaxis","categories","labels","fontFamily","fontWeight","cssClass","yaxis","userToken","mounted","getUserToken","computed","sensorID","params","userID","watch","getSum","methods","component","module","exports","functional","children","classNames","class","staticStyle","rest","Object","assign","concat","create","token","Vue","$cookies","get","axios","method","url","headers","Authorization","getAll","getOne","edit","delete"],"mappings":"kHAAA,W,kECAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,KAAK,CAACJ,EAAIO,GAAG,kBAAkBH,EAAG,SAAS,CAACI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIU,QAAQC,IAAI,QAAQ,GAAGP,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAAEN,EAAW,QAAE,CAACI,EAAG,KAAK,CAACJ,EAAIO,GAAG,0BAA2BP,EAAIY,SAAWZ,EAAIa,OAAQ,CAACT,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,eAAe,CAACU,MAAM,CAAC,MAAQ,MAAM,QAAU,aAAa,SAAW,IAAIC,MAAM,CAACC,MAAOhB,EAAIa,OAAW,KAAEI,SAAS,SAAUC,GAAMlB,EAAImB,KAAKnB,EAAIa,OAAQ,OAAQK,IAAME,WAAW,iBAAiBhB,EAAG,eAAe,CAACU,MAAM,CAAC,MAAQ,wBAAwB,QAAU,aAAa,SAAW,IAAIC,MAAM,CAACC,MAAOhB,EAAIa,OAAiB,WAAEI,SAAS,SAAUC,GAAMlB,EAAImB,KAAKnB,EAAIa,OAAQ,aAAcK,IAAME,WAAW,uBAAuBhB,EAAG,eAAe,CAACU,MAAM,CAAC,MAAQ,gBAAgB,QAAU,aAAa,SAAW,IAAIC,MAAM,CAACC,MAAOhB,EAAIa,OAAW,KAAEI,SAAS,SAAUC,GAAMlB,EAAImB,KAAKnB,EAAIa,OAAQ,OAAQK,IAAME,WAAW,iBAAiBhB,EAAG,eAAe,CAACU,MAAM,CAAC,MAAQ,OAAO,QAAU,aAAa,SAAW,IAAIC,MAAM,CAACC,MAAOhB,EAAIa,OAAc,QAAEI,SAAS,SAAUC,GAAMlB,EAAImB,KAAKnB,EAAIa,OAAQ,UAAWK,IAAME,WAAW,qBAAqB,IAAIpB,EAAIqB,MAAM,GAAGjB,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,KAAK,CAACJ,EAAIO,GAAG,mBAAmBH,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,eAAe,CAACU,MAAM,CAAC,MAAQ,eAAe,QAAU,aAAa,SAAW,IAAIC,MAAM,CAACC,MAAOhB,EAAIsB,OAAOC,MAAW,MAAEN,SAAS,SAAUC,GAAMlB,EAAImB,KAAKnB,EAAIsB,OAAOC,MAAO,QAASL,IAAME,WAAW,yBAAyB,KAAMpB,EAAIwB,OAAW,KAAEpB,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,KAAK,CAACJ,EAAIO,GAAG,kBAAkBH,EAAG,KAAK,CAACJ,EAAIO,GAAG,WAAWP,EAAIyB,GAAG,IAAIC,KAAK1B,EAAIwB,OAAOG,MAAMC,mBAAmB,UAAU,IAAI5B,EAAIyB,GAAG,IAAIC,KAAK1B,EAAIwB,OAAOG,MAAME,mBAAmB,UAAU,OAAOzB,EAAG,YAAY,CAACU,MAAM,CAAC,KAAO,MAAM,QAAUd,EAAI8B,QAAQ,OAAS9B,EAAI+B,WAAW,GAAG/B,EAAIqB,KAAKjB,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,KAAK,CAACJ,EAAIO,GAAG,gBAAgBH,EAAG,WAAW,CAACU,MAAM,CAAC,MAAQd,EAAIgC,QAAQ,YAAY,QAAQ,aAAa,SAASjB,MAAM,CAACC,MAAOhB,EAAkB,eAAEiB,SAAS,SAAUC,GAAMlB,EAAIiC,eAAef,GAAKE,WAAW,oBAAsBpB,EAAIkC,WAAkGlC,EAAIqB,KAA1FjB,EAAG,YAAY,CAACU,MAAM,CAAC,KAAO,MAAM,QAAUd,EAAImC,UAAU,OAASnC,EAAIoC,cAAuB,MACt0EC,EAAkB,G,6GCkFtB,GACEC,KAAM,gBACNC,WAAY,CACVC,OAAJ,KAEEC,KALF,WAMI,MAAO,CACL7B,SAAS,EACT8B,eAAe,EACf7B,OAAQ,KACRW,OAAQ,GACRM,QAAS,CACPa,MAAO,CACLC,GAAI,oBAENC,YAAa,CACXC,IAAK,CACHC,aAAc,GACdC,WAAY,CACVC,SAAU,SAIhBD,WAAY,CACVE,SAAS,EACTC,UAAW,SAArB,GACY,OAAOC,EAAM,KAEfC,SAAU,GAEVC,MAAO,CACLC,SAAU,OACVC,OAAQ,CAAC,aAGbC,MAAO,CACLC,WAAY,CAAC,OAAQ,OAAQ,cAAe,UAAW,WACvDC,OAAQ,CACNL,MAAO,CACLC,SAAU,OACVK,WAAY,+BACZC,WAAY,IACZC,SAAU,4BAIhBC,MAAO,CACLJ,OAAQ,CACNR,UAAW,SAAvB,GACc,OAAOC,EAAM,KAEfE,MAAO,CACLC,SAAU,OACVK,WAAY,+BACZC,WAAY,IACZC,SAAU,6BAKlB/B,OAAQ,CACd,CACQ,KAAR,GACQ,KAAR,KAGMC,QAAS,CACf,CACQ,MAAR,OACQ,MAAR,SAEA,CACQ,MAAR,MACQ,MAAR,UAEA,CACQ,MAAR,QACQ,MAAR,UAEA,CACQ,MAAR,OACQ,MAAR,WAGMC,eAAgB,GAChBC,YAAY,EACZC,UAAW,CACTQ,MAAO,CACLC,GAAI,oBAKNC,YAAa,CACXC,IAAK,CACHC,aAAc,GACdC,WAAY,CACVC,SAAU,SAIhBD,WAAY,CACVE,SAAS,EACTC,UAAW,SAArB,GACY,OAAOC,EAAM,KAEfC,SAAU,GACVC,MAAO,CACLC,SAAU,OACVC,OAAQ,CAAC,aAGbC,MAAO,CACLC,WAAY,GACZC,OAAQ,CACNL,MAAO,CACLC,SAAU,OACVK,WAAY,+BACZC,WAAY,IACZC,SAAU,4BAIhBC,MAAO,CACLJ,OAAQ,CACNL,MAAO,CACLE,OAAQ,GACRD,SAAU,OACVK,WAAY,+BACZC,WAAY,IACZC,SAAU,0BAEZX,UAAW,SAAvB,GACc,OAAOC,EAAM,QAKrBhB,UAAW,CACjB,CACQ,KAAR,QACQ,KAAR,KAGM4B,UAAW,KAGfC,QAnJF,WAoJIhE,KAAKiE,gBAEPC,SAAU,CACRC,SADJ,WAEM,OAAOnE,KAAKqB,OAAO+C,OAAOzB,IAE5B0B,OAJJ,WAKM,OAAOrE,KAAKqB,OAAOC,MAAM+C,SAG7BC,MAAO,CACLtC,eADJ,WAEMhC,KAAKuE,WAGTC,QAAS,CACP,aADJ,WACA,qKACA,aADA,kBAGA,gBACA,aACA,gCACA,SACA,yDAPA,OAGA,EAHA,OAUA,yBAEA,YACA,cAbA,qDAeA,+BAfA,yBAiBA,aAjBA,gFAqBI,QAtBJ,WAsBA,uKACA,aADA,kBAGA,0BAHA,gBAGA,EAHA,EAGA,KAEA,eACA,WANA,qDAQA,+BARA,yBAUA,aAVA,gFAaI,UAnCJ,WAmCA,uKACA,mBADA,kBAGA,gBACA,aACA,0CACA,SACA,+CAPA,gBAGA,EAHA,EAGA,KAOA,WACA,mBACA,8BACA,8BACA,qCACA,iCACA,iCAhBA,qDAkBA,+BAlBA,6DAqBI,OAxDJ,WAwDA,uKACA,gBADA,kBAGA,gBACA,aACA,uCACA,QACA,yBAEA,SACA,+CAVA,OAGA,EAHA,OAaA,SACA,gCACA,uBACA,sBACA,4CAEA,uBACA,4CAEA,0BACA,GACA,6CAJA,YAKA,+CAGA,gDA5BA,qDA+BA,+BA/BA,yBAiCA,gBAjCA,kFC9S8X,I,wBCQ1XC,EAAY,eACd,EACA3E,EACAsC,GACA,EACA,KACA,WACA,MAIa,aAAAqC,E,sEClBTC,EAAOC,QAAU,CACfC,YAAY,EACZ9E,OAFe,SAERG,EAAIF,GAAK,IACNI,EAAgCJ,EAAhCI,GAAQqC,GAAwBzC,EAA5BO,GAA4BP,EAAxByC,MADF,EAC0BzC,EAAlB8E,gBADR,MACmB,GADnB,EAILC,EAMLtC,EANFuC,MACA1E,EAKEmC,EALFnC,YACAgD,EAIEb,EAJFa,MACA2B,EAGExC,EAHFwC,YAPY,EAUVxC,EAFF3B,aARY,MAQJ,GARI,EASToE,EATS,EAUVzC,EAVU,uDAYd,OAAOrC,EACL,MADO,GAGL4E,MAAO,CAACD,EAAWzE,GACnBgD,MAAO,CAACA,EAAM2B,GACdnE,MAAOqE,OAAOC,OAAO,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,KAAO,OAAO,MAAQ,8BAA+BtE,IACzHoE,GAELJ,EAASO,OAAO,CAACjF,EAAG,OAAO,CAACU,MAAM,CAAC,EAAI,8MAA8M,KAAO,mB,kCCvBxQ,4BAEe,QACXwE,OADW,SACJ7C,GACH,IAAM8C,EAAQC,aAAIC,SAASC,IAAI,eAC/B,OAAOC,eAAM,CACTC,OAAQ,OACRC,IAAK,eACLC,QAAS,CACLC,cAAe,UAAF,OAAYR,IAG7B9C,UAGRuD,OAbW,WAcP,IAAMT,EAAQC,aAAIC,SAASC,IAAI,eAC/B,OAAOC,eAAM,CACTC,OAAQ,MACRC,IAAK,eACLC,QAAS,CACLC,cAAe,UAAF,OAAYR,OASrCU,OA5BW,SA4BJrD,GACH,IAAM2C,EAAQC,aAAIC,SAASC,IAAI,eAC/B,OAAOC,eAAM,CACTC,OAAQ,MACRC,IAAK,eAAiB,IAAjB,OAAqBjD,GAC1BkD,QAAS,CACLC,cAAe,UAAF,OAAYR,OAMrCW,KAxCW,SAwCNtD,EAAIH,GACL,IAAM8C,EAAQC,aAAIC,SAASC,IAAI,eAC/B,OAAOC,eAAM,CACTC,OAAQ,QACRC,IAAK,eAAiB,IAAjB,OAAqBjD,GAC1BkD,QAAS,CACLC,cAAe,UAAF,OAAYR,IAG7B9C,UAGR0D,OApDW,SAoDJvD,GACH,IAAM2C,EAAQC,aAAIC,SAASC,IAAI,eAC/B,OAAOC,eAAM,CACTC,OAAQ,SACRC,IAAK,eAAiB,IAAjB,OAAqBjD,GAC1BkD,QAAS,CACLC,cAAe,UAAF,OAAYR","file":"js/chunk-4011760b.1ac1e3ba.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./id.view.vue?vue&type=style&index=0&id=357773ba&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sensor\"},[_c('div',{staticClass:\"sensor__header\"},[_c('h1',[_vm._v(\"جزییات سنسور\")]),_c('arrSvg',{on:{\"click\":function($event){return _vm.$router.go(-1)}}})],1),_c('div',{staticClass:\"sensor__main\"},[(_vm.loading)?[_c('h6',[_vm._v(\"در حال بارگیری ...\")])]:(!_vm.loading && _vm.sensor)?[_c('div',{staticClass:\"sensor__info\"},[_c('v-text-field',{attrs:{\"label\":\"نام\",\"variant\":\"underlined\",\"readonly\":\"\"},model:{value:(_vm.sensor.name),callback:function ($$v) {_vm.$set(_vm.sensor, \"name\", $$v)},expression:\"sensor.name\"}}),_c('v-text-field',{attrs:{\"label\":\"مک آدرس (mac address)\",\"variant\":\"underlined\",\"readonly\":\"\"},model:{value:(_vm.sensor.macAddress),callback:function ($$v) {_vm.$set(_vm.sensor, \"macAddress\", $$v)},expression:\"sensor.macAddress\"}}),_c('v-text-field',{attrs:{\"label\":\"آی پی (ip v4)\",\"variant\":\"underlined\",\"readonly\":\"\"},model:{value:(_vm.sensor.ipv4),callback:function ($$v) {_vm.$set(_vm.sensor, \"ipv4\", $$v)},expression:\"sensor.ipv4\"}}),_c('v-text-field',{attrs:{\"label\":\"نسخه\",\"variant\":\"underlined\",\"readonly\":\"\"},model:{value:(_vm.sensor.version),callback:function ($$v) {_vm.$set(_vm.sensor, \"version\", $$v)},expression:\"sensor.version\"}})],1)]:_vm._e()],2),_c('div',{staticClass:\"mb-6\"},[_c('h1',[_vm._v(\"اطلاعات کاربر\")]),_c('div',{staticClass:\"sensor__info\"},[_c('v-text-field',{attrs:{\"label\":\"شماره موبایل\",\"variant\":\"underlined\",\"readonly\":\"\"},model:{value:(_vm.$route.query.phone),callback:function ($$v) {_vm.$set(_vm.$route.query, \"phone\", $$v)},expression:\"$route.query.phone\"}})],1)]),(_vm.latest.time)?_c('div',{staticClass:\"sensor__latest\"},[_c('h3',[_vm._v(\"آخرین مقادیر\")]),_c('h4',[_vm._v(\" تاریخ: \"+_vm._s(new Date(_vm.latest.time).toLocaleTimeString(\"fa-IR\"))+\" \"+_vm._s(new Date(_vm.latest.time).toLocaleDateString(\"fa-IR\"))+\" \")]),_c('apexchart',{attrs:{\"type\":\"bar\",\"options\":_vm.options,\"series\":_vm.series}})],1):_vm._e(),_c('div',{staticClass:\"sensor__latest\"},[_c('h3',[_vm._v(\"مجموع مصرف\")]),_c('v-select',{attrs:{\"items\":_vm.periods,\"item-text\":\"title\",\"item-value\":\"value\"},model:{value:(_vm.selectedPeriod),callback:function ($$v) {_vm.selectedPeriod=$$v},expression:\"selectedPeriod\"}}),(!_vm.loadingSum)?_c('apexchart',{attrs:{\"type\":\"bar\",\"options\":_vm.sumOption,\"series\":_vm.sumSeries}}):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"sensor\">\r\n    <div class=\"sensor__header\">\r\n      <h1>جزییات سنسور</h1>\r\n      <arrSvg @click=\"$router.go(-1)\" />\r\n    </div>\r\n    <div class=\"sensor__main\">\r\n      <template v-if=\"loading\"> <h6>در حال بارگیری ...</h6></template>\r\n      <template v-else-if=\"!loading && sensor\">\r\n        <div class=\"sensor__info\">\r\n          <v-text-field\r\n            label=\"نام\"\r\n            variant=\"underlined\"\r\n            v-model=\"sensor.name\"\r\n            readonly\r\n          ></v-text-field>\r\n\r\n          <v-text-field\r\n            label=\"مک آدرس (mac address)\"\r\n            variant=\"underlined\"\r\n            v-model=\"sensor.macAddress\"\r\n            readonly\r\n          ></v-text-field>\r\n\r\n          <v-text-field\r\n            label=\"آی پی (ip v4)\"\r\n            variant=\"underlined\"\r\n            v-model=\"sensor.ipv4\"\r\n            readonly\r\n          ></v-text-field>\r\n\r\n          <v-text-field\r\n            label=\"نسخه\"\r\n            variant=\"underlined\"\r\n            v-model=\"sensor.version\"\r\n            readonly\r\n          ></v-text-field>\r\n        </div>\r\n      </template>\r\n    </div>\r\n    <div class=\"mb-6\">\r\n      <h1>اطلاعات کاربر</h1>\r\n      <div class=\"sensor__info\">\r\n        <v-text-field\r\n          label=\"شماره موبایل\"\r\n          variant=\"underlined\"\r\n          v-model=\"$route.query.phone\"\r\n          readonly\r\n        ></v-text-field>\r\n      </div>\r\n    </div>\r\n    <div class=\"sensor__latest\" v-if=\"latest.time\">\r\n      \r\n      <h3>آخرین مقادیر</h3>\r\n      <h4>\r\n        تاریخ: {{ new Date(latest.time).toLocaleTimeString(\"fa-IR\") }}\r\n        {{ new Date(latest.time).toLocaleDateString(\"fa-IR\") }}\r\n      </h4>\r\n      <apexchart type=\"bar\" :options=\"options\" :series=\"series\"></apexchart>\r\n    </div>\r\n    <div class=\"sensor__latest\">\r\n      <h3>مجموع مصرف</h3>\r\n      <v-select\r\n        :items=\"periods\"\r\n        item-text=\"title\"\r\n        item-value=\"value\"\r\n        v-model=\"selectedPeriod\"\r\n      ></v-select>\r\n      <apexchart\r\n        v-if=\"!loadingSum\"\r\n        type=\"bar\"\r\n        :options=\"sumOption\"\r\n        :series=\"sumSeries\"\r\n      ></apexchart>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport sernsorServices from \"../sensor.services\";\r\nimport arrSvg from \"@/assets/svg/ic_arrow-left_blue.svg\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"sensorDetails\",\r\n  components: {\r\n    arrSvg,\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      loadingLatest: false,\r\n      sensor: null,\r\n      latest: {},\r\n      options: {\r\n        chart: {\r\n          id: \"vuechart-example\",\r\n        },\r\n        plotOptions: {\r\n          bar: {\r\n            borderRadius: 10,\r\n            dataLabels: {\r\n              position: \"top\",\r\n            },\r\n          },\r\n        },\r\n        dataLabels: {\r\n          enabled: true,\r\n          formatter: function (val) {\r\n            return val + \"W\";\r\n          },\r\n          offsetY: -20,\r\n          \r\n          style: {\r\n            fontSize: \"12px\",\r\n            colors: ['#2082db']\r\n          },\r\n        },\r\n        xaxis: {\r\n          categories: [\"THDi\", \"THDv\", \"consumption\", \"voltage\", \"current\"],\r\n          labels: {\r\n            style: {\r\n              fontSize: \"12px\",\r\n              fontFamily: \"Helvetica, Arial, sans-serif\",\r\n              fontWeight: 400,\r\n              cssClass: \"apexcharts-xaxis-label\",\r\n            },\r\n          },\r\n        },\r\n        yaxis: {\r\n          labels: {\r\n            formatter: function (val) {\r\n              return val + \"W\";\r\n            },\r\n            style: {\r\n              fontSize: \"12px\",\r\n              fontFamily: \"Helvetica, Arial, sans-serif\",\r\n              fontWeight: 400,\r\n              cssClass: \"apexcharts-xaxis-label\",\r\n            },\r\n          },\r\n        },\r\n      },\r\n      series: [\r\n        {\r\n          name: \"\",\r\n          data: [],\r\n        },\r\n      ],\r\n      periods: [\r\n        {\r\n          value: \"hour\",\r\n          title: \"ساعتی\",\r\n        },\r\n        {\r\n          value: \"day\",\r\n          title: \"روزانه\",\r\n        },\r\n        {\r\n          value: \"month\",\r\n          title: \"ماهانه\",\r\n        },\r\n        {\r\n          value: \"year\",\r\n          title: \"سالانه\",\r\n        },\r\n      ],\r\n      selectedPeriod: \"\",\r\n      loadingSum: true,\r\n      sumOption: {\r\n        chart: {\r\n          id: \"vuechart-example\",\r\n        },\r\n        // tooltip: {\r\n        //   enabled: false,\r\n        // },\r\n        plotOptions: {\r\n          bar: {\r\n            borderRadius: 10,\r\n            dataLabels: {\r\n              position: \"top\", // top, center, bottom\r\n            },\r\n          },\r\n        },\r\n        dataLabels: {\r\n          enabled: true,\r\n          formatter: function (val) {\r\n            return val + \"W\";\r\n          },\r\n          offsetY: -20,\r\n          style: {\r\n            fontSize: \"12px\",\r\n            colors: ['#2082db']\r\n          },\r\n        },\r\n        xaxis: {\r\n          categories: [],\r\n          labels: {\r\n            style: {\r\n              fontSize: \"12px\",\r\n              fontFamily: \"Helvetica, Arial, sans-serif\",\r\n              fontWeight: 400,\r\n              cssClass: \"apexcharts-xaxis-label\",\r\n            },\r\n          },\r\n        },\r\n        yaxis: {\r\n          labels: {\r\n            style: {\r\n              colors: [],\r\n              fontSize: \"12px\",\r\n              fontFamily: \"Helvetica, Arial, sans-serif\",\r\n              fontWeight: 400,\r\n              cssClass: \"apexcharts-xaxis-label\",\r\n            },\r\n            formatter: function (val) {\r\n              return val + \"W\";\r\n            },\r\n          },\r\n        },\r\n      },\r\n      sumSeries: [\r\n        {\r\n          name: \"مجموع\",\r\n          data: [],\r\n        },\r\n      ],\r\n      userToken: \"\",\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getUserToken();\r\n  },\r\n  computed: {\r\n    sensorID() {\r\n      return this.$route.params.id;\r\n    },\r\n    userID() {\r\n      return this.$route.query.userID;\r\n    },\r\n  },\r\n  watch: {\r\n    selectedPeriod() {\r\n      this.getSum();\r\n    },\r\n  },\r\n  methods: {\r\n    async getUserToken() {\r\n      this.loading = true;\r\n      try {\r\n        const response = await axios({\r\n          method: \"GET\",\r\n          url: \"/users/\" + this.userID + \"/token\",\r\n          headers: {\r\n            Authorization: \"Bearer \" + this.$cookies.get(\"admin-token\"),\r\n          },\r\n        });\r\n        this.userToken = response.data.token;\r\n\r\n        this.getData();\r\n        this.getLatest();\r\n      } catch {\r\n        this.$toast.error(\"خطایی رخ داد\");\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n\r\n    async getData() {\r\n      this.loading = true;\r\n      try {\r\n        const { data } = await sernsorServices.getOne(this.sensorID);\r\n\r\n        console.log(data);\r\n        this.sensor = data;\r\n      } catch {\r\n        this.$toast.error(\"خطایی رخ داد\");\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    async getLatest() {\r\n      this.loadingLatest = true;\r\n      try {\r\n        const { data } = await axios({\r\n          method: \"GET\",\r\n          url: `/reports/latest/${this.sensorID}`,\r\n          headers: {\r\n            Authorization: `Bearer ${this.userToken}`,\r\n          },\r\n        });\r\n        this.latest = data;\r\n        this.loadingLatest = false;\r\n        this.series[0].data.push(data.THDi);\r\n        this.series[0].data.push(data.THDv);\r\n        this.series[0].data.push(data.consumption);\r\n        this.series[0].data.push(data.voltage);\r\n        this.series[0].data.push(data.current);\r\n      } catch {\r\n        this.$toast.error(\"خطایی رخ داد\");\r\n      }\r\n    },\r\n    async getSum() {\r\n      this.loadingSum = true;\r\n      try {\r\n        const res = await axios({\r\n          method: \"GET\",\r\n          url: `/reports/sum/${this.sensorID}`,\r\n          params: {\r\n            period: this.selectedPeriod,\r\n          },\r\n          headers: {\r\n            Authorization: `Bearer ${this.userToken}`,\r\n          },\r\n        });\r\n        const { data } = res;\r\n        this.sumOption.xaxis.categories = [];\r\n        this.sumSeries[0].data = [];\r\n        data.sort((a, b) => {\r\n          return new Date(a.time) < new Date(b.time);\r\n        });\r\n        data.forEach((item) => {\r\n          this.sumOption.xaxis.categories.push(\r\n            `${\r\n              this.selectedPeriod !== \"hour\"\r\n                ? \"\"\r\n                : new Date(item.time).toLocaleTimeString(\"fa-IR\")\r\n            } ${new Date(item.time).toLocaleDateString(\"fa-IR\")}`\r\n          );\r\n\r\n          this.sumSeries[0].data.push(item.total.toFixed(3));\r\n        });\r\n      } catch {\r\n        this.$toast.error(\"خطایی رخ داد\");\r\n      } finally {\r\n        this.loadingSum = false;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.sensor {\r\n  &__header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    svg {\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  &__main {\r\n    margin-top: 25px;\r\n  }\r\n  &__info {\r\n    display: grid;\r\n    grid-template-columns: repeat(2, minmax(0, 1fr));\r\n    grid-gap: 15px;\r\n    margin-bottom: 25px;\r\n  }\r\n  .sensor__latest {\r\n    // background-color: white;\r\n    direction: rtl;\r\n    h3 {\r\n      margin-bottom: 15px;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./id.view.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./id.view.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./id.view.vue?vue&type=template&id=357773ba&scoped=true&\"\nimport script from \"./id.view.vue?vue&type=script&lang=js&\"\nexport * from \"./id.view.vue?vue&type=script&lang=js&\"\nimport style0 from \"./id.view.vue?vue&type=style&index=0&id=357773ba&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"357773ba\",\n  null\n  \n)\n\nexport default component.exports","\n      module.exports = {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"width\":\"25\",\"height\":\"25\",\"viewBox\":\"0 0 16 16\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M10 13.78a.494.494 0 01-.353-.147L5.3 9.287a1.827 1.827 0 010-2.574l4.347-4.346a.503.503 0 01.706 0 .503.503 0 010 .706L6.007 7.42a.82.82 0 000 1.16l4.346 4.347a.503.503 0 010 .706.524.524 0 01-.353.147z\",\"fill\":\"#2082DB\"}})])\n          )\n        }\n      }\n    ","import axios from \"axios\"\r\nimport Vue from \"vue\"\r\nexport default {\r\n    create(data) {\r\n        const token = Vue.$cookies.get('admin-token')\r\n        return axios({\r\n            method: \"POST\",\r\n            url: '/nodes/admin',\r\n            headers: {\r\n                Authorization: `Bearer ${token}`\r\n\r\n            },\r\n            data\r\n        })\r\n    },\r\n    getAll() {\r\n        const token = Vue.$cookies.get('admin-token')\r\n        return axios({\r\n            method: \"GET\",\r\n            url: '/nodes/admin',\r\n            headers: {\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n            // params: {\r\n            //     limit: 5,\r\n            //     skip: 5,\r\n            // }\r\n\r\n        })\r\n    },\r\n    getOne(id) {\r\n        const token = Vue.$cookies.get('admin-token')\r\n        return axios({\r\n            method: \"GET\",\r\n            url: '/nodes/admin' + `/${id}`,\r\n            headers: {\r\n                Authorization: `Bearer ${token}`\r\n\r\n            },\r\n\r\n        })\r\n    },\r\n    edit(id, data) {\r\n        const token = Vue.$cookies.get('admin-token')\r\n        return axios({\r\n            method: \"PATCH\",\r\n            url: '/nodes/admin' + `/${id}`,\r\n            headers: {\r\n                Authorization: `Bearer ${token}`\r\n\r\n            },\r\n            data\r\n        })\r\n    },\r\n    delete(id) {\r\n        const token = Vue.$cookies.get('admin-token')\r\n        return axios({\r\n            method: \"DELETE\",\r\n            url: '/nodes/admin' + `/${id}`,\r\n            headers: {\r\n                Authorization: `Bearer ${token}`\r\n\r\n            },\r\n\r\n        })\r\n    },\r\n}"],"sourceRoot":""}